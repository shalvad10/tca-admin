{"ast":null,"code":"import SharedMethods from 'src/app/Helpers/SharedMethods';\nimport appData from 'src/app/Services/Data/AppData';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/Http/products.service\";\nimport * as i2 from \"src/app/Services/Http/company.service\";\nimport * as i3 from \"src/app/Services/Http/user.service\";\nimport * as i4 from \"src/app/Services/Http/magazines.service\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"../../Components/universal-view/universal-view.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../Components/info-box/info-box.component\";\nimport * as i9 from \"../../Components/statistic-chart/statistic-chart.component\";\nimport * as i10 from \"../../Components/info-panel/info-panel.component\";\nimport * as i11 from \"../../Components/Tables/user-log-table/user-log-table.component\";\n\nfunction MainComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"app-info-box\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const box_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"title\", box_r4.title)(\"content\", box_r4.content)(\"icon\", box_r4.icon)(\"type\", box_r4.type);\n  }\n}\n\nfunction MainComponent_app_statistic_chart_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-statistic-chart\", 15);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"labels\", ctx_r1.chart1.labels)(\"data\", ctx_r1.chart1.data);\n  }\n}\n\nfunction MainComponent_app_info_panel_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-info-panel\", 16);\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"item\", item_r5);\n  }\n}\n\nfunction MainComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵelementStart(3, \"h3\", 10);\n    i0.ɵɵtext(4, \" \\u10DB\\u10DD\\u10DB\\u10EE\\u10DB\\u10D0\\u10E0\\u10D4\\u10D1\\u10DA\\u10D4\\u10D1\\u10D8\\u10E1 \\u10E1\\u10D8\\u10D0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function MainComponent_div_16_Template_div_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.removeList();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11);\n    i0.ɵɵelement(7, \"app-user-log-table\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"data\", ctx_r3.users)(\"avatars\", ctx_r3.avatars);\n  }\n}\n\nexport let MainComponent = /*#__PURE__*/(() => {\n  class MainComponent {\n    constructor(productService, companyService, userService, magazineService, toastrService) {\n      this.productService = productService;\n      this.companyService = companyService;\n      this.userService = userService;\n      this.magazineService = magazineService;\n      this.toastrService = toastrService;\n      this.reduceStores = false;\n      this.showUsers = false;\n      this.users = [];\n      this.chart1 = {\n        show: true,\n        labels: ['იან', 'თებ', 'მარ', 'აპრ', 'მაი', 'ივნ', 'ივლ', 'აგვ', 'სექ', 'ოქტ', 'ნოე', 'დეკ'],\n        data: [{\n          name: 'მიღებული',\n          data: [0, 0, 0, 5, 42, 12, 3, 8, 9, 12, 6, 24],\n          color: '#00a300'\n        }, {\n          name: 'ამოღებული',\n          data: [0, 0, 0, 32, 6, 19, 31, 13, 9, 17, 3, 7],\n          color: '#d90000'\n        }]\n      };\n      this.infoBoxses = [{\n        id: 'users',\n        title: 'თანამშრომლები',\n        type: 'info',\n        content: 0,\n        icon: 'fa-users'\n      }, {\n        id: 'products',\n        title: 'პროდუქცია',\n        type: 'secondary',\n        content: 0,\n        icon: 'fa-sitemap'\n      }, {\n        id: 'stores',\n        title: 'ფილიალები',\n        type: 'success',\n        content: 0,\n        icon: 'fa-store-alt'\n      }, {\n        id: 'companies',\n        title: 'მომწოდებლები',\n        type: 'warning',\n        content: 0,\n        icon: 'fa-building'\n      }];\n      this.warningItems = [];\n    }\n\n    get avatars() {\n      return appData.data.avatars;\n    }\n\n    get data() {\n      return appData.data;\n    }\n\n    openDetails(ev) {// this.magazineService.getUsers(ev).subscribe( (dt: any) => {\n      //   if (dt.length > 0) {\n      //     this.users = dt;\n      //       this.reduceStores = true;\n      //       setTimeout(() => {\n      //         this.showUsers = true;\n      //       }, 500);\n      //   } else {\n      //     SharedMethods.alertNotification(this.toastrService,'danger', { text: `ფილიალში დასაქმებულთა რაოდენობა 0-ის ტოლია.`});\n      //   }\n      // });\n    }\n\n    removeList() {\n      this.users = [];\n      this.reduceStores = false;\n      this.showUsers = false;\n    }\n\n    get chartWidth() {\n      return document.getElementById('chartBlock').clientWidth;\n    }\n\n    ngOnInit() {\n      // SharedMethods.setInfoBoxes( appData, this.infoBoxses, 'companies', this.companyService.getAll(SharedMethods.getToken(appData)));\n      SharedMethods.setInfoBoxes(appData, this.infoBoxses, 'stores', this.magazineService.getAll(SharedMethods.getToken(appData))); // SharedMethods.setInfoBoxes( appData, this.infoBoxses, 'users', this.userService.allUsers(SharedMethods.getToken(appData)));\n      // SharedMethods.setInfoBoxes( appData, this.infoBoxses, 'products', this.productService.getAll(SharedMethods.getToken(appData)));\n    }\n\n    assignInfoboxes(data, boxID) {\n      const infoBOX = this.infoBoxses.filter(box => box.id == boxID)[0];\n      infoBOX.content = data;\n    }\n\n  }\n\n  MainComponent.ɵfac = function MainComponent_Factory(t) {\n    return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CompanyService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.MagazinesService), i0.ɵɵdirectiveInject(i5.ToastrService));\n  };\n\n  MainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainComponent,\n    selectors: [[\"app-main\"]],\n    decls: 17,\n    vars: 5,\n    consts: [[1, \"container-fluid\", \"customContainer\"], [1, \"row\"], [\"class\", \"col-12 col-sm-6 col-md-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-9\"], [3, \"labels\", \"data\", 4, \"ngIf\"], [1, \"col-3\"], [3, \"item\", 4, \"ngFor\", \"ngForOf\"], [1, \"item\", \"col-12\", 3, \"ngClass\"], [1, \"card\"], [1, \"card-header\", \"border-transparent\"], [1, \"card-title\", \"font_geo\", \"large_font\"], [1, \"card-body\", \"p-0\"], [\"class\", \"col-12 col-md-4 item\", 4, \"ngIf\"], [1, \"col-12\", \"col-sm-6\", \"col-md-3\"], [3, \"title\", \"content\", \"icon\", \"type\"], [3, \"labels\", \"data\"], [3, \"item\"], [1, \"col-12\", \"col-md-4\", \"item\"], [1, \"close\", 3, \"click\"], [3, \"data\", \"avatars\"]],\n    template: function MainComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-universal-view\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtemplate(3, MainComponent_div_3_Template, 2, 4, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 1);\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵtemplate(6, MainComponent_app_statistic_chart_6_Template, 1, 2, \"app-statistic-chart\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtemplate(8, MainComponent_app_info_panel_8_Template, 1, 1, \"app-info-panel\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 1);\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵelementStart(12, \"div\", 9);\n        i0.ɵɵelementStart(13, \"h3\", 10);\n        i0.ɵɵtext(14, \" \\u10E4\\u10D8\\u10DA\\u10D8\\u10D0\\u10DA\\u10D4\\u10D1\\u10D8\\u10E1 \\u10E1\\u10D8\\u10D0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, MainComponent_div_16_Template, 8, 2, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.infoBoxses);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.chart1.show);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.warningItems);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", !ctx.reduceStores ? \"col-md-12\" : \"col-md-8\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.showUsers);\n      }\n    },\n    directives: [i6.UniversalViewComponent, i7.NgForOf, i7.NgIf, i7.NgClass, i8.InfoBoxComponent, i9.StatisticChartComponent, i10.InfoPanelComponent, i11.UserLogTableComponent],\n    styles: [\".customContainer[_ngcontent-%COMP%]{padding:30px 10px 15px}.item[_ngcontent-%COMP%]{position:relative;transition:.5s}.item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:20px;height:20px;background-position:center;background-repeat:no-repeat;background-size:contain;cursor:pointer;background-image:url(close-1.svg)}.item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background-image:url(close-2.svg)}\"]\n  });\n  return MainComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}