{"ast":null,"code":"import { AppEnums } from 'src/app/Enums/appEnums';\nimport SharedMethods from 'src/app/Helpers/SharedMethods';\nimport appData from 'src/app/Services/Data/AppData';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/Services/Http/company.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./search.pipe\";\n\nfunction CompanyTableComponent_tr_17_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function CompanyTableComponent_tr_17_a_9_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.edit(item_r1.id);\n    });\n    i0.ɵɵelement(1, \"i\", 18);\n    i0.ɵɵtext(2, \" \\u10E0\\u10D4\\u10D3\\u10D0\\u10E5\\u10E2\\u10D8\\u10E0\\u10D4\\u10D1\\u10D0 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyTableComponent_tr_17_a_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function CompanyTableComponent_tr_17_a_10_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.delete(item_r1.id, item_r1.name);\n    });\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵtext(2, \" \\u10EC\\u10D0\\u10E8\\u10DA\\u10D0 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyTableComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 11);\n    i0.ɵɵelementStart(2, \"a\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 12);\n    i0.ɵɵlistener(\"click\", function CompanyTableComponent_tr_17_Template_td_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.companyDetails(item_r1.id);\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 14);\n    i0.ɵɵtemplate(9, CompanyTableComponent_tr_17_a_9_Template, 3, 0, \"a\", 15);\n    i0.ɵɵtemplate(10, CompanyTableComponent_tr_17_a_10_Template, 3, 0, \"a\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.code, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.products, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isStore);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isStore);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"height\": a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"table-responsive\": a0\n  };\n};\n\nexport let CompanyTableComponent = /*#__PURE__*/(() => {\n  class CompanyTableComponent {\n    constructor(router, compayService) {\n      this.router = router;\n      this.compayService = compayService;\n      this.tableData = [];\n      this.tableHeight = '550px';\n    }\n\n    set data(val) {\n      this.tableData = [];\n      val = val.sort((a, b) => a.name > b.name ? 1 : b.id > a.id ? -1 : 0);\n      console.warn(val);\n      val.forEach(item => {\n        const tmpItem = {\n          id: item.id,\n          name: item.name,\n          code: item.identificationCode,\n          products: item.productsCount,\n          receivedBack: 0\n        };\n        this.tableData.push(tmpItem);\n      });\n    }\n\n    ngOnInit() {\n      window.addEventListener('resize', ev => {\n        this.windowWidth = ev.target['innerWidth'];\n      });\n    }\n\n    delete(id, name) {\n      const modal = 'confirm';\n      appData.data.modal.currentModal = modal;\n      appData.data.modal.modals[modal].typeID = AppEnums.main.company;\n      appData.data.modal.modals[modal].targetName = name;\n      appData.data.modal.modals[modal].targetID = id;\n    }\n\n    edit(id) {\n      this.router.navigate(['companies/add'], {\n        queryParams: {\n          id: id\n        }\n      });\n    }\n\n    companyDetails(id) {\n      this.router.navigateByUrl(`/companies/${id}`);\n    }\n\n    getCompany(id) {\n      this.compayService.getSingle(id, SharedMethods.getToken(appData)).subscribe(res => console.warn('edit', res));\n    }\n\n    get isStore() {\n      return SharedMethods.isStoreView();\n    }\n\n  }\n\n  CompanyTableComponent.ɵfac = function CompanyTableComponent_Factory(t) {\n    return new (t || CompanyTableComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CompanyService));\n  };\n\n  CompanyTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompanyTableComponent,\n    selectors: [[\"app-company-table\"]],\n    inputs: {\n      data: \"data\"\n    },\n    decls: 19,\n    vars: 11,\n    consts: [[1, \"card\"], [1, \"card-header\"], [1, \"row\", \"inputs\"], [1, \"form-group\", \"font_geo\", \"small_font\"], [\"type\", \"text\", \"placeholder\", \"\\u10D9\\u10DD\\u10DB\\u10DE\\u10D0\\u10DC\\u10D8\\u10D8\\u10E1 \\u10D3\\u10D0\\u10E1\\u10D0\\u10EE\\u10D4\\u10DA\\u10D4\\u10D1\\u10D0\", 1, \"form-control\", \"small_font\", 3, \"ngModel\", \"ngModelChange\"], [1, \"card-body\", \"table-responsive\", \"p-0\", 3, \"ngStyle\"], [1, \"table\", \"table-striped\", \"table-head-fixed\", \"projects\", 3, \"ngClass\"], [2, \"z-index\", \"2\"], [1, \"text-center\", \"font_geo\", \"medium_font\"], [1, \"font_geo\", \"medium_font\"], [4, \"ngFor\", \"ngForOf\"], [1, \"font_geo\", \"small_font\", \"text-center\"], [1, \"text-center\", \"name\", 3, \"click\"], [1, \"text-center\"], [1, \"project-actions\", \"text-right\"], [\"class\", \"btn btn-info btn-sm font_geo small_font\", \"href\", \"javascript:void(null);\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-danger btn-sm font_geo small_font\", \"href\", \"javascript:void(null);\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:void(null);\", 1, \"btn\", \"btn-info\", \"btn-sm\", \"font_geo\", \"small_font\", 3, \"click\"], [1, \"fas\", \"fa-pencil-alt\"], [\"href\", \"javascript:void(null);\", 1, \"btn\", \"btn-danger\", \"btn-sm\", \"font_geo\", \"small_font\", 3, \"click\"], [1, \"fas\", \"fa-trash\"]],\n    template: function CompanyTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function CompanyTableComponent_Template_input_ngModelChange_4_listener($event) {\n          return ctx.searchText = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelementStart(6, \"table\", 6);\n        i0.ɵɵelementStart(7, \"thead\", 7);\n        i0.ɵɵelementStart(8, \"tr\");\n        i0.ɵɵelementStart(9, \"th\", 8);\n        i0.ɵɵtext(10, \" \\u10E1\\u10D0\\u10D8\\u10D3\\u10D4\\u10DC\\u10E2\\u10D8\\u10E4\\u10D8\\u10D9\\u10D0\\u10EA\\u10D8\\u10DD \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\", 8);\n        i0.ɵɵtext(12, \" \\u10D3\\u10D0\\u10E1\\u10D0\\u10EE\\u10D4\\u10DA\\u10D4\\u10D1\\u10D0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 8);\n        i0.ɵɵtext(14, \" \\u10DE\\u10E0\\u10DD\\u10D3\\u10E3\\u10E5\\u10EA\\u10D8\\u10D0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"th\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"tbody\");\n        i0.ɵɵtemplate(17, CompanyTableComponent_tr_17_Template, 11, 5, \"tr\", 10);\n        i0.ɵɵpipe(18, \"searchFilter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(7, _c0, ctx.tableHeight));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c1, ctx.windowWidth < 500));\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(18, 4, ctx.tableData, ctx.searchText));\n      }\n    },\n    directives: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgStyle, i4.NgClass, i4.NgForOf, i4.NgIf],\n    pipes: [i5.SearchFilterPipe],\n    styles: [\"[data-tooltip][_ngcontent-%COMP%]{position:relative;z-index:10}[data-tooltip][_ngcontent-%COMP%]:before, [data-tooltip][_ngcontent-%COMP%]:after{position:absolute;visibility:hidden;opacity:0;left:50%;bottom:calc(100% + 5px);pointer-events:none;transition:.2s;will-change:transform}[data-tooltip][_ngcontent-%COMP%]:before{content:attr(data-tooltip);padding:10px 18px;min-width:50px;max-width:300px;width:max-content;width:-moz-max-content;border-radius:6px;font-size:14px;background-color:#3b4850e6;background-image:linear-gradient(30deg,rgba(59,72,80,.44),rgba(59,68,75,.44),rgba(60,82,88,.44));box-shadow:0 0 24px #0003;color:#fff;text-align:center;white-space:pre-wrap;transform:translate(-50%,-5px) scale(.5)}[data-tooltip][_ngcontent-%COMP%]:after{content:\\\"\\\";border-style:solid;border-width:5px 5px 0px 5px;border-color:rgba(55,64,70,.9) transparent transparent transparent;transition-duration:0s;transform-origin:top;transform:translate(-50%) scaleY(0)}[data-tooltip][_ngcontent-%COMP%]:hover:before, [data-tooltip][_ngcontent-%COMP%]:hover:after{visibility:visible;opacity:1}[data-tooltip][_ngcontent-%COMP%]:hover:before{transition-delay:.3s;transform:translate(-50%,-5px) scale(1)}[data-tooltip][_ngcontent-%COMP%]:hover:after{transition-delay:.5s;transition-duration:.2s;transform:translate(-50%) scaleY(1)}[data-tooltip-location=left][_ngcontent-%COMP%]:before, [data-tooltip-location=left][_ngcontent-%COMP%]:after{left:auto;right:calc(100% + 5px);bottom:50%}[data-tooltip-location=left][_ngcontent-%COMP%]:before{transform:translate(-5px,50%) scale(.5)}[data-tooltip-location=left][_ngcontent-%COMP%]:hover:before{transform:translate(-5px,50%) scale(1)}[data-tooltip-location=left][_ngcontent-%COMP%]:after{border-width:5px 0px 5px 5px;border-color:transparent transparent transparent rgba(55,64,70,.9);transform-origin:left;transform:translateY(50%) scaleX(0)}[data-tooltip-location=left][_ngcontent-%COMP%]:hover:after{transform:translateY(50%) scaleX(1)}[data-tooltip-location=right][_ngcontent-%COMP%]:before, [data-tooltip-location=right][_ngcontent-%COMP%]:after{left:calc(100% + 5px);bottom:50%}[data-tooltip-location=right][_ngcontent-%COMP%]:before{transform:translate(5px,50%) scale(.5)}[data-tooltip-location=right][_ngcontent-%COMP%]:hover:before{transform:translate(5px,50%) scale(1)}[data-tooltip-location=right][_ngcontent-%COMP%]:after{border-width:5px 5px 5px 0px;border-color:transparent rgba(55,64,70,.9) transparent transparent;transform-origin:right;transform:translateY(50%) scaleX(0)}[data-tooltip-location=right][_ngcontent-%COMP%]:hover:after{transform:translateY(50%) scaleX(1)}[data-tooltip-location=bottom][_ngcontent-%COMP%]:before, [data-tooltip-location=bottom][_ngcontent-%COMP%]:after{top:calc(100% + 5px);bottom:auto}[data-tooltip-location=bottom][_ngcontent-%COMP%]:before{transform:translate(-50%,5px) scale(.5)}[data-tooltip-location=bottom][_ngcontent-%COMP%]:hover:before{transform:translate(-50%,5px) scale(1)}[data-tooltip-location=bottom][_ngcontent-%COMP%]:after{border-width:0px 5px 5px 5px;border-color:transparent transparent rgba(55,64,70,.9) transparent;transform-origin:bottom}.btn[_ngcontent-%COMP%]{margin:3px}.name[_ngcontent-%COMP%]{cursor:pointer}th[_ngcontent-%COMP%]{position:relative;z-index:2}.form-control[_ngcontent-%COMP%]{width:200px}\"]\n  });\n  return CompanyTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}