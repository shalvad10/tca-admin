{"ast":null,"code":"import SharedMethods from 'src/app/Helpers/SharedMethods';\nimport appData from 'src/app/Services/Data/AppData';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/Services/Http/magazines.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../Components/universal-view/universal-view.component\";\nimport * as i5 from \"../../../Components/Tables/products-small-table/products-small-table.component\";\nimport * as i6 from \"../../../Components/Tables/user-table/user-table.component\";\n\nfunction StoreDetailedComponent_app_universal_view_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-universal-view\");\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"section\", 4);\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelementStart(7, \"h3\", 7);\n    i0.ɵɵtext(8, \"\\u10E4\\u10D8\\u10DA\\u10D8\\u10D0\\u10DA\\u10D8\\u10E1 \\u10D3\\u10D4\\u10E2\\u10D0\\u10DA\\u10D4\\u10D1\\u10D8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 8);\n    i0.ɵɵelementStart(10, \"div\", 2);\n    i0.ɵɵelementStart(11, \"div\", 9);\n    i0.ɵɵelementStart(12, \"div\", 10);\n    i0.ɵɵelementStart(13, \"div\", 11);\n    i0.ɵɵelementStart(14, \"div\", 12);\n    i0.ɵɵelementStart(15, \"div\", 13);\n    i0.ɵɵelementStart(16, \"span\", 14);\n    i0.ɵɵtext(17, \"\\u10D7\\u10D0\\u10DC\\u10D0\\u10DB\\u10E8\\u10E0\\u10DD\\u10DB\\u10DA\\u10D4\\u10D1\\u10D8\\u10E1 \\u10E0\\u10D0\\u10DD\\u10D3\\u10D4\\u10DC\\u10DD\\u10D1\\u10D0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 15);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 11);\n    i0.ɵɵelementStart(21, \"div\", 12);\n    i0.ɵɵelementStart(22, \"div\", 13);\n    i0.ɵɵelementStart(23, \"span\", 14);\n    i0.ɵɵtext(24, \"\\u10DE\\u10E0\\u10DD\\u10D3\\u10E3\\u10E5\\u10EA\\u10D8\\u10D0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 15);\n    i0.ɵɵtext(26, \"5\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 11);\n    i0.ɵɵelementStart(28, \"div\", 12);\n    i0.ɵɵelementStart(29, \"div\", 13);\n    i0.ɵɵelementStart(30, \"span\", 14);\n    i0.ɵɵtext(31, \"\\u10D0\\u10DB\\u10DD\\u10E6\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10DE\\u10E0\\u10DD\\u10D3\\u10E3\\u10E5\\u10EA\\u10D8\\u10D0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"span\", 15);\n    i0.ɵɵtext(33, \"18\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 11);\n    i0.ɵɵelementStart(35, \"div\", 12);\n    i0.ɵɵelementStart(36, \"div\", 13);\n    i0.ɵɵelementStart(37, \"span\", 14);\n    i0.ɵɵtext(38, \"\\u10D0\\u10EE\\u10D0\\u10DA\\u10D8 \\u10D3\\u10D0\\u10DB\\u10D0\\u10E2\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"span\", 15);\n    i0.ɵɵtext(40, \"13\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 10);\n    i0.ɵɵelementStart(42, \"div\", 16);\n    i0.ɵɵelementStart(43, \"span\", 17);\n    i0.ɵɵtext(44, \" \\u10E8\\u10D4\\u10E2\\u10D0\\u10DC\\u10D8\\u10DA\\u10D8 \\u10DE\\u10E0\\u10DD\\u10D3\\u10E3\\u10E5\\u10EA\\u10D8\\u10D0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"app-products-small-table\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 16);\n    i0.ɵɵelementStart(47, \"div\", 19);\n    i0.ɵɵelementStart(48, \"span\", 17);\n    i0.ɵɵtext(49, \" \\u10D7\\u10D0\\u10DC\\u10D0\\u10DB\\u10E8\\u10E0\\u10DD\\u10DB\\u10DA\\u10D4\\u10D1\\u10D8 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function StoreDetailedComponent_app_universal_view_0_Template_div_click_50_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.addUsertoStore();\n    });\n    i0.ɵɵtext(51, \"\\u10D7\\u10D0\\u10DC\\u10D0\\u10DB\\u10E8\\u10E0\\u10DD\\u10DB\\u10DA\\u10D8\\u10E1 \\u10E0\\u10D4\\u10D2\\u10D8\\u10E1\\u10E2\\u10E0\\u10D0\\u10EA\\u10D8\\u10D0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(52, \"app-user-table\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 21);\n    i0.ɵɵelementStart(54, \"h3\", 22);\n    i0.ɵɵelement(55, \"i\", 23);\n    i0.ɵɵtext(56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(57, \"br\");\n    i0.ɵɵelementStart(58, \"div\", 24);\n    i0.ɵɵelementStart(59, \"p\", 25);\n    i0.ɵɵtext(60, \" \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8: \");\n    i0.ɵɵelementStart(61, \"b\", 26);\n    i0.ɵɵtext(62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"p\", 25);\n    i0.ɵɵtext(64, \"\\u10E1\\u10D0\\u10D9\\u10DD\\u10DC\\u10E2\\u10D0\\u10E5\\u10E2\\u10DD: \");\n    i0.ɵɵelementStart(65, \"b\", 26);\n    i0.ɵɵtext(66, \"Tony Chicken\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.employeeCount, \"\");\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"data\", ctx_r0.tableData);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"data\", ctx_r0.data.users);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.data.store.name, \" - \", ctx_r0.data.name, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.data.location);\n  }\n}\n\nexport let StoreDetailedComponent = /*#__PURE__*/(() => {\n  class StoreDetailedComponent {\n    constructor(activatedRoute, magazineService) {\n      this.activatedRoute = activatedRoute;\n      this.magazineService = magazineService;\n      this.tableData = [];\n    }\n\n    ngOnInit() {\n      this.id = Number.parseInt(this.activatedRoute.snapshot.params.id);\n      this.magazineService.getByID(this.id, SharedMethods.getToken(appData)).subscribe(dt => {\n        if (dt) {\n          appData.data.stores.selectedStore = {\n            id: dt.id,\n            name: dt.name,\n            store: this.getStoreName(dt.magazineId),\n            location: dt.location,\n            idCode: dt.identificationCode,\n            users: []\n          }; // this.magazineService.getUsers(dt.id, SharedMethods.getToken(appData)).subscribe( (res: any) => {\n          //   let tmpArr = [];\n          //   res.forEach( (el: any) => {\n          //     tmpArr.push({\n          //       id: el.user.id,\n          //       name: `${el.user.firstName} ${el.user.lastName}`,\n          //       role: el.positions.name\n          //     });\n          //   });\n          //   appData.data.stores.selectedStore.users = tmpArr;\n          //   console.warn(appData.data.stores.selectedStore.users);\n          // });\n        }\n      });\n    }\n\n    get data() {\n      return appData.data.stores.selectedStore;\n    }\n\n    get employeeCount() {\n      return appData.data.stores.selectedStore.users.length;\n    }\n\n    getStoreName(id) {\n      let store = {\n        name: '',\n        id: 0,\n        idCode: ''\n      };\n      this.magazineService.getStore(id, SharedMethods.getToken(appData)).subscribe(dt => {\n        store.id = dt.id;\n        store.idCode = dt.identificationCode;\n        store.name = dt.name;\n      });\n      return store;\n    }\n\n    addUsertoStore() {\n      const modal = 'addUser';\n      appData.data.modal.currentModal = modal;\n      appData.data.modal.modals[modal].storeID = this.id;\n      appData.data.modal.modals[modal].type = 'store';\n    }\n\n  }\n\n  StoreDetailedComponent.ɵfac = function StoreDetailedComponent_Factory(t) {\n    return new (t || StoreDetailedComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MagazinesService));\n  };\n\n  StoreDetailedComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StoreDetailedComponent,\n    selectors: [[\"app-store-detailed\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-12\"], [1, \"content\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\", \"font_geo\", \"medium_font\"], [1, \"card-body\"], [1, \"col-12\", \"col-md-12\", \"order-2\"], [1, \"row\", \"custom-margin\"], [1, \"col-12\", \"col-sm-3\"], [1, \"info-box\", \"bg-light\"], [1, \"info-box-content\"], [1, \"info-box-text\", \"text-center\", \"text-muted\"], [1, \"info-box-number\", \"text-center\", \"text-muted\", \"mb-0\"], [1, \"col-6\"], [1, \"font_geo\", \"large_font\"], [3, \"data\"], [1, \"colHeader\"], [1, \"addBtn\", \"btn\", \"btn-success\", \"font_geo\", \"small_font\", 3, \"click\"], [1, \"col-12\", \"col-md-12\", \"order-1\"], [1, \"text-primary\", \"font_geo\"], [1, \"fas\", \"fa-store-alt\"], [1, \"text-muted\"], [1, \"text-sm\", \"font_geo\"], [1, \"d-block\"]],\n    template: function StoreDetailedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, StoreDetailedComponent_app_universal_view_0_Template, 67, 6, \"app-universal-view\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.data);\n      }\n    },\n    directives: [i3.NgIf, i4.UniversalViewComponent, i5.ProductsSmallTableComponent, i6.UserTableComponent],\n    styles: [\".custom-margin[_ngcontent-%COMP%]{margin:15px 0}.colHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.addBtn[_ngcontent-%COMP%]{margin:5px}.info-box-content[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis}\"]\n  });\n  return StoreDetailedComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}