{"ast":null,"code":"import appData from 'src/app/Services/Data/AppData';\nimport SharedMethods from 'src/app/Helpers/SharedMethods';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/Services/Http/products.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\n\nconst _c0 = function (a0) {\n  return [a0];\n};\n\nfunction HeaderComponent_article_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"article\");\n    i0.ɵɵelementStart(1, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_article_12_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.openNotification(item_r1);\n    });\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵelement(3, \"div\", 19);\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵelementStart(5, \"h3\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementStart(7, \"span\", 22);\n    i0.ɵɵelement(8, \"i\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 24);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, item_r1.type));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.type, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, item_r1.starType));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.text, \" \");\n  }\n}\n\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(router, productService, toastrService) {\n      this.router = router;\n      this.productService = productService;\n      this.toastrService = toastrService;\n      this.oldDropdown = null;\n    }\n\n    ngOnInit() {}\n\n    toggleDropdown(id) {\n      if (id === 'messages') {\n        if (this.notifications.length > 0) {\n          if (this.oldDropdown !== null && this.oldDropdown !== id) {\n            document.getElementById(this.oldDropdown).getElementsByClassName('dropdown-menu')[0].classList.remove('show');\n          }\n\n          document.getElementById(id).getElementsByClassName('dropdown-menu')[0].classList.toggle('show');\n          this.oldDropdown = id;\n        }\n      } else {\n        if (this.oldDropdown !== null && this.oldDropdown !== id) {\n          document.getElementById(this.oldDropdown).getElementsByClassName('dropdown-menu')[0].classList.remove('show');\n        }\n\n        document.getElementById(id).getElementsByClassName('dropdown-menu')[0].classList.toggle('show');\n        this.oldDropdown = id;\n      }\n    }\n\n    toggleSidebar() {\n      const body = document.body;\n      body.classList.toggle('sidebar-collapse');\n      body.classList.toggle('sidebar-open');\n    }\n\n    openNotification(el) {\n      this.toggleDropdown('messages');\n      SharedMethods.alertNotification(this.toastrService, el.type, {\n        text: el.text\n      });\n      appData.data.notifications.splice(appData.data.notifications.indexOf(el), 1);\n    }\n\n    onSubmit(ev) {\n      const value = document.getElementById('searchValue')['value'];\n\n      if (isNaN(Number.parseInt(value))) {\n        if (appData.data.products.length > 0) {\n          const id = appData.data.products.filter(pr => pr.name === value)[0].id;\n          setTimeout(() => {\n            this.router.navigateByUrl(`/products/${id}`);\n          }, 1000);\n        } else {\n          this.productService.getAll(SharedMethods.getToken(appData)).subscribe(dt => {\n            const id = appData.data.products.filter(pr => pr.name === value)[0].id;\n            setTimeout(() => {\n              this.router.navigateByUrl(`/products/${id}`);\n            }, 1000);\n          });\n        }\n      } else {\n        if (appData.data.products.length > 0) {\n          const id = appData.data.products.filter(pr => pr.identificationCode === value)[0].id;\n          console.warn(appData.data.products);\n          setTimeout(() => {\n            this.router.navigateByUrl(`/products/${id}`);\n          }, 1000);\n        } else {\n          this.productService.getAll(SharedMethods.getToken(appData)).subscribe(dt => {\n            const id = dt.data.filter(pr => pr.identificationCode === value)[0].id;\n            setTimeout(() => {\n              this.router.navigateByUrl(`/products/${id}`);\n            }, 1000);\n          });\n        }\n      }\n\n      return false;\n    }\n\n    get notifications() {\n      return appData.data.notifications;\n    }\n\n    onSearch(data) {\n      console.warn(data);\n    }\n\n    lock() {\n      let user = JSON.parse(window.localStorage.getItem('authorizedUser'));\n      console.warn(user);\n      user['password'] = '';\n      window.localStorage.setItem('authorizedUser', JSON.stringify(user));\n      this.router.navigateByUrl(\"/locked\");\n    }\n\n    logout() {\n      window.localStorage.removeItem('authorizedUser');\n      this.router.navigateByUrl(\"/users/auth\");\n    }\n\n    userProfile() {\n      this.router.navigateByUrl(`/users/${appData.data.currentUser.id}`);\n    }\n\n  }\n\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductsService), i0.ɵɵdirectiveInject(i3.ToastrService));\n  };\n\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"app-header\"]],\n    decls: 27,\n    vars: 2,\n    consts: [[1, \"main-header\", \"navbar\", \"navbar-expand\", \"navbar-light\"], [1, \"navbar-nav\"], [1, \"nav-item\", 3, \"click\"], [\"href\", \"javascript:void(null);\", 1, \"nav-link\"], [1, \"fas\", \"fa-bars\"], [1, \"navbar-nav\", \"ml-auto\"], [\"id\", \"messages\", 1, \"nav-item\", \"dropdown\", \"disabled\"], [\"data-toggle\", \"dropdown\", \"href\", \"javascript:void(null);\", 1, \"nav-link\", 3, \"click\"], [1, \"far\", \"fa-comments\"], [1, \"badge\", \"badge-danger\", \"navbar-badge\"], [1, \"dropdown-menu\", \"dropdown-menu-lg\", \"dropdown-menu-right\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"notifications\", 1, \"nav-item\", \"dropdown\"], [1, \"fa\", \"fa-cog\"], [1, \"dropdown-item\", \"dropdown-header\", \"font_geo\", \"medium_font\"], [1, \"dropdown-divider\"], [\"href\", \"javascript:void(null);\", 1, \"dropdown-item\", 3, \"click\"], [1, \"font_geo\", \"small_font\"], [1, \"media\"], [1, \"img-size-50\", \"mr-3\", \"icon\", 3, \"ngClass\"], [1, \"media-body\"], [1, \"dropdown-item-title\", \"font_geo\", \"medium_font\"], [1, \"float-right\", \"text-sm\", 3, \"ngClass\"], [1, \"fas\", \"fa-star\"], [1, \"font_geo\", \"Xsmall_font\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0);\n        i0.ɵɵelementStart(1, \"ul\", 1);\n        i0.ɵɵelementStart(2, \"li\", 2);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_2_listener() {\n          return ctx.toggleSidebar();\n        });\n        i0.ɵɵelementStart(3, \"a\", 3);\n        i0.ɵɵelement(4, \"i\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ul\", 5);\n        i0.ɵɵelementStart(6, \"li\", 6);\n        i0.ɵɵelementStart(7, \"a\", 7);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_7_listener() {\n          return ctx.toggleDropdown(\"messages\");\n        });\n        i0.ɵɵelement(8, \"i\", 8);\n        i0.ɵɵelementStart(9, \"span\", 9);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 10);\n        i0.ɵɵtemplate(12, HeaderComponent_article_12_Template, 12, 8, \"article\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"li\", 12);\n        i0.ɵɵelementStart(14, \"a\", 7);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_14_listener() {\n          return ctx.toggleDropdown(\"notifications\");\n        });\n        i0.ɵɵelement(15, \"i\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 10);\n        i0.ɵɵelementStart(17, \"span\", 14);\n        i0.ɵɵtext(18, \"\\u10DB\\u10DD\\u10DB\\u10EE\\u10DB\\u10D0\\u10E0\\u10D4\\u10D1\\u10DA\\u10D8\\u10E1 \\u10DB\\u10D4\\u10DC\\u10D8\\u10E3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"div\", 15);\n        i0.ɵɵelementStart(20, \"a\", 16);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_20_listener() {\n          return ctx.userProfile();\n        });\n        i0.ɵɵelementStart(21, \"span\", 17);\n        i0.ɵɵtext(22, \" \\u10DE\\u10E0\\u10DD\\u10E4\\u10D8\\u10DA\\u10D8 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"div\", 15);\n        i0.ɵɵelementStart(24, \"a\", 16);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_24_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵelementStart(25, \"span\", 17);\n        i0.ɵɵtext(26, \" \\u10D2\\u10D0\\u10DB\\u10DD\\u10E1\\u10D5\\u10DA\\u10D0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.notifications.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.notifications);\n      }\n    },\n    directives: [i4.NgForOf, i4.NgClass],\n    styles: [\".icon[_ngcontent-%COMP%]{width:30px;height:42px;background-image:url(smile.svg);background-size:contain;background-repeat:no-repeat;background-position:center}.icon.warning[_ngcontent-%COMP%]{background-image:url(warning.svg)}.icon.success[_ngcontent-%COMP%]{background-image:url(checked.svg)}.badge[_ngcontent-%COMP%]{font-size:.7rem}.main-header[_ngcontent-%COMP%]{z-index:500!important}\"]\n  });\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}